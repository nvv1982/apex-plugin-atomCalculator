!function(t,s,a){!function(){var i,n,e,l="1.0",o="calculator",d=".calculator-here",h=!1,p='<div class="calculator"><i class="calculator--pointer"></i><div class="calculator--content"></div></div>',c={displayMode:"extended",showIcon:!1,icon:"fa-calculator",position:"bottom left",textAlignment:"rtl",theme:"material",buttonStyle:null,showMethod:"click",showEvent:"focus",offset:12,keyboardNav:!0,clearKey:null,plsmnsKey:null,percKey:null,readOnly:!0,classes:"",inline:!1,autoClose:!1,onInput:function(){},onResult:function(){},onSelect:"",onShow:"",onHide:""},u=function(t,n){this.el=t,this.$el=s(t),this.opts=s.extend(!0,{},c,n,this.$el.data()),i===a&&(i=s("body")),"INPUT"==this.el.nodeName&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.silent=!1,this.keys=[],this.init()};e=u,e.prototype={VERSION:l,init:function(){h||this.opts.inline||!this.elIsInput||this._buildCalculatorsContainer(),this._buildBaseHtml(),this.elIsInput&&(this.opts.inline||(this._setPositionClasses(this.opts.position),this._bindEvents()),this.$calculator.on("mousedown",this._onMouseDownCalculator.bind(this)),this.$calculator.on("mouseup",this._onMouseUpCalculator.bind(this))),this.opts.classes&&this.$calculator.addClass(this.opts.classes),this.opts.keyboardNav&&this._bindKeyboardEvents(),new s.fn.calculator.Body(this,"",this.opts),this.inited=!0},_bindKeyboardEvents:function(){this.$el.on("keydown.adp",this._onKeyDown.bind(this)),this.$el.on("keyup.adp",this._onKeyUp.bind(this)),this.$el.on("hotKey.adp",this._onHotKey.bind(this))},_onKeyDown:function(t){var s=t.which;if(this._registerKey(s),s>=96&&105>=s||110==s){var a=110==s?"Dot":0+s-96;t.preventDefault(),this.$calculator.find(".jcalculator span#num"+a).trigger("click"),a=""}else if(106==s||107==s||109==s||111==s){var a="";switch(s){case 106:a="m";break;case 107:a="a";break;case 109:a="s";break;case 111:a="d"}t.preventDefault(),this.$calculator.find(".jcalculator span#op"+a).trigger("click"),a=""}else 13==s?(t.preventDefault(),this.$calculator.find(".jcalculator span#ope").trigger("click"),a=""):27==s&&(t.preventDefault(),this.hide())},_onKeyUp:function(t){var s=t.which;this._unRegisterKey(s)},_onHotKey:function(t,s){this._handleHotKey(s)},_registerKey:function(t){var s=this.keys.some(function(s){return s==t});s||this.keys.push(t)},_unRegisterKey:function(t){var s=this.keys.indexOf(t);this.keys.splice(s,1)},_bindEvents:function(){this.$el.on(this.opts.showEvent+".adp",this._onShowEvent.bind(this)),this.$el.on("mouseup.adp",this._onMouseUpEl.bind(this)),this.$el.on("blur.adp",this._onBlur.bind(this)),this.$el.on("keyup.adp",this._onKeyUpGeneral.bind(this)),s(t).on("resize.adp",this._onResize.bind(this)),s("body").on("mouseup.adp",this._onMouseUpBody.bind(this))},_buildCalculatorsContainer:function(){h=!0,i.append('<div class="calculators-container" id="calculators-container"></div>'),n=s("#calculators-container")},_buildBaseHtml:function(){this.$calculator=s(p).appendTo(n),"material"==this.opts.theme?this.$calculator.find(".calculator--pointer").addClass("mat"):"dark"==this.opts.theme?this.$calculator.find(".calculator--pointer").addClass("drk"):"light"==this.opts.theme&&this.$calculator.find(".calculator--pointer").addClass("lit"),this.$content=s(".calculator--content",this.$calculator)},_setPositionClasses:function(t){t=t.split(" ");var s=t[0],a=t[1],i="calculator -"+s+"-"+a+"- -from-"+s+"-";this.visible&&(i+=" active"),this.$calculator.removeAttr("class").addClass(i)},setPosition:function(t){t=t||this.opts.position;var s,a,i=this._getDimensions(this.$el),n=this._getDimensions(this.$calculator),e=t.split(" "),l=parseInt(this.opts.offset),o=e[0],d=e[1];switch(o){case"top":s=i.top-n.height-l;break;case"right":a=i.left+i.width+l;break;case"bottom":s=i.top+i.height+l;break;case"left":a=i.left-n.width-l}switch(d){case"top":s=i.top;break;case"right":a=i.left+i.width-n.width;break;case"bottom":s=i.top+i.height-n.height;break;case"left":a=i.left;break;case"center":/left|right/.test(o)?s=i.top+i.height/2-n.height/2:a=i.left+i.width/2-n.width/2}this.$calculator.css({left:a+"px",top:s+"px"})},_getDimensions:function(t){var s=t.offset(),a={width:t.outerWidth(),height:t.outerHeight(),left:s.left,top:s.top};return a},clear:function(){},show:function(){var t=this.opts.onShow;this.setPosition(this.opts.position),this.$calculator.addClass("active"),this.visible=!0,t&&this._bindVisionEvents(t)},hide:function(){var t=this.opts.onHide;this.$calculator.removeClass("active").css({left:"-100000px"}),this.focused="",this.keys=[],this.inFocus=!1,this.visible=!1,this.$el.blur(),t&&this._bindVisionEvents(t)},_bindVisionEvents:function(t){this.$calculator.off("transitionend.dp"),t(this,!1),this.$calculator.one("transitionend.dp",t.bind(this,this,!0))},_trigger:function(t,s){this.$el.trigger(t,s)},destroy:function(){var t=this;t.$el.off(".adp").data("calculator",""),t.focused="",t.$calculator.remove()},_onShowEvent:function(){this.visible||this.show()},_onBlur:function(){!this.inFocus&&this.visible&&this.hide()},_onMouseDownCalculator:function(){this.inFocus=!0},_onMouseUpCalculator:function(t){this.inFocus=!1,t.originalEvent.inFocus=!0},_onKeyUpGeneral:function(){var t=this.$el.val();t||this.clear()},_onResize:function(){this.visible&&this.setPosition()},_onMouseUpBody:function(t){t.originalEvent.inFocus||this.visible&&!this.inFocus&&this.hide()},_onMouseUpEl:function(t){t.originalEvent.inFocus=!0,setTimeout(this._onKeyUpGeneral.bind(this),4)}},s.fn.calculator=function(t){return this.each(function(){if(s.data(this,o)){var a=s.data(this,o);a.opts=s.extend(!0,a.opts,t)}else s.data(this,o,new u(this,t))})},s.fn.calculator.Constructor=u,s(function(){s(d).calculator()})}(),function(){calculator=s.fn.calculator,dp=calculator.Constructor,calculator.Body=function(t,a,i){var n=this,e=t;this.d=t,this.type=a,this.opts=i,this.$display=s(e.el),"rtl"==e.opts.textAlignment&&this.$display.css({"text-align":"right"}),e.opts.readOnly&&this.$display.attr("readOnly",!0),"basic"===this.opts.displayMode?this.$calc=s(this.template1).appendTo(this.d.$content).addClass("temp1"):this.$calc=s(this.template2).appendTo(this.d.$content).addClass("temp2"),s(""),this.$calc.addClass("temp"),e.opts.buttonStyle&&this.$calc.find("span").addClass("buttonStyle"+e.opts.buttonStyle),this.$calc.addClass(e.opts.theme),"light"==this.opts.theme?this.$calc.find("span").addClass("ani-lit"):this.$calc.find("span").addClass("ani-mat"),s(this.$calc).on("click","span.clear-btn",this._clrPress.bind(n)),s(this.$calc).on("click","span.num-btn",this._numPress.bind(n)),s(this.$calc).on("click",".func-btn",this._funcPress.bind(n)),s(this.$calc).on("click","span.eql-btn",this._eqPress.bind(n)),"extended"==this.opts.displayMode&&(s(this.$calc).on("click","span.plusminus-btn",this._signPress.bind(n)),s(this.$calc).on("click","span.percent-btn",this._percPress.bind(n))),this.init()},calculator.Body.prototype={init:function(){this.resetCalculator("0")},template1:'<div class="jcalculator"><span id="num7" class="num-btn seven">7</span><span id="num8" class="num-btn eight">8</span><span id="num9" class="num-btn nine">9</span><span id="opd" class="op func-btn divide">&#247;</span><span id="num4" class="num-btn four">4</span><span id="num5" class="num-btn five">5</span><span id="num6" class="num-btn six">6</span><span id="opm" class="op func-btn multiply">x</span><span id="num1" class="num-btn one">1</span><span id="num2" class="num-btn two">2</span><span id="num3" class="num-btn three">3</span><span id="ops" class="op func-btn subtract">-</span><span class="clear-btn clear">C</span><span id="num0"  class="num-btn zero-btn zero">0</span><span id="ope" class="eq eql-btn">=</span><span id="opa" class="op func-btn add">+</span></div>',template2:'<div class="jcalculator"><span class="clear-btn clear">C</span><span id="oppsms" class="op  plusminus-btn plusminus">&#177</span><span id="opper" class="op percent-btn percent">%</span><span id="opd" class="op func-btn divide">&#247;</span><span id="num7" class="num-btn seven">7</span><span id="num8" class="num-btn eight">8</span><span id="num9" class="num-btn nine">9</span><span id="opm" class="op func-btn multiply">x</span><span id="num4" class="num-btn four">4</span><span id="num5" class="num-btn five">5</span><span id="num6" class="num-btn six">6</span><span id="opa" class="op func-btn add">+</span><span id="num1" class="num-btn one">1</span><span id="num2" class="num-btn two">2</span><span id="num3" class="num-btn three">3</span><span id="ops" class="op func-btn subtract">-</span><span id="num0"  class="num-btn zero-btn zero">0</span><span id="numDot" class = "num-btn dot">.</span><span id="ope" class="eq eql-btn">=</span></div>',show:function(){this.$el.addClass("active"),this.acitve=!0},hide:function(){this.$el.removeClass("active"),this.active=!1},round:function(t,s){return Number(Math.round(t+"e"+s)+"e-"+s)},pull:function(){return this.$display.val()||this.$display.text()},push:function(t){this.$display.is("input")?this.$display.val(t):this.$display.text(t)},resetCalculator:function(t){this.push(t),s(".func-btn").removeClass("currFunction"),this.$display.data("isCurrFunction",!1),this.$display.data("CurrFunction",""),this.$display.data("isPrevFunction",!1),this.$display.data("PrevFunction",""),this.$display.data("valueOneLocked",!1),this.$display.data("valueTwoLocked",!1),this.$display.data("valueOne",t),this.$display.data("valueTwo",0),this.$display.data("fromPrevious",!1),this.$display.data("typing1stChar",!0),this.$display.data("isRunTotal",!1)},resetDisplay:function(t,a,i,n){this.push(t),s(".func-btn").removeClass("currFunction"),this.$display.data("isPrevFunction",!1),this.$display.data("PrevFunction",""),a?(this.$display.data("valueOneLocked",!0),this.$display.data("valueOne",t)):(this.$display.data("valueOneLocked",!1),this.$display.data("valueOne",0)),n?(this.$display.data("valueTwoLocked",!0),this.$display.data("valueTwo",i)):(this.$display.data("valueTwoLocked",!1),this.$display.data("valueTwo",0)),this.$display.data("typing1stChar",!0),this.$display.data("isRunTotal",!1),this.$display.data("memPlus",0),this.$display.data("fromPrevious",!1)},recursion:function(t){this.push(t),s(".func-btn").removeClass("currFunction"),this.$display.data("isPrevFunction",!1),this.$display.data("PrevFunction",""),this.$display.data("valueOneLocked",!0),this.$display.data("valueOne",t),this.$display.data("valueTwoLocked",!0),this.$display.data("valueTwo",0),this.$display.data("typing1stChar",!0),this.$display.data("isRunTotal",!1),this.$display.data("fromPrevious",!1)},_clrPress:function(t){this.ripple(t.target),this.resetCalculator("0")},_numPress:function(t){this.ripple(t.target),this.$display.data("memPlus",0);var a=s(t.target).text().trim(),i=this.pull(),n=i+a;this.$display.data("isCurrFunction")&&this.$display.data("valueOneLocked")?(this.$display.data("typing1stChar")?"."==a?this.push("0"+a):this.push(a):"."==a?i.indexOf(".")>=1||(i.length>0?this.push(n):this.push("0"+a)):"0"==a&&"0"==i?this.$display.data("typing1stChar",!0):this.push(n),this.$display.data("valueTwo",this.pull()),this.$display.data("valueTwoLocked",!0),this.$display.data("typing1stChar",!1)):this.$display.data("typing1stChar")?"."==a?(i.indexOf(".")<1?this.push("0"+a):(this.push(a),"."==this.pull()&&this.push("0"+a)),this.$display.data("typing1stChar",!1)):"0"==a&&"0"==i?this.$display.data("typing1stChar",!0):(this.push(a),this.$display.data("typing1stChar",!1)):"."==a?i.indexOf(".")>=1||this.push(n):"0"==a&&"0"==i?this.$display.data("typing1stChar",!0):this.push(n)},_signPress:function(t){if(this.ripple(t.target),this.$display.data("valueOneLocked")||this.$display.data("valueTwoLocked")){if(this.$display.data("valueOneLocked")){var s=this.$display.data("valueTwo");s=-1*s,this.$display.data("valueTwo",s),this.push(s)}else if(this.$display.data("valueTwoLocked")){var s=this.$display.data("valueOne");s=-1*s,this.$display.data("valueOne",s),this.push(s)}}else{var s=this.pull();s=-1*s,this.push(s)}},_percPress:function(t){this.ripple(t.target);var s,a;if(!this.$display.data("valueOneLocked")&&!this.$display.data("valueTwoLocked")||this.$display.data("valueOneLocked")&&!this.$display.data("valueTwoLocked")&&this.$display.data("isCurrFunction"))s=this.pull(),a=s/100,this.resetCalculator(a);else if(this.$display.data("valueTwoLocked")&&"-"==this.$display.data("CurrFunction")||"+"==this.$display.data("CurrFunction")){s=this.$display.data("valueTwo");var i=this.$display.data("valueOne");s/=100,a=i*s,this.push(a),this.$display.data("valueTwo",a)}else(this.$display.data("valueTwoLocked")&&"x"==this.$display.data("CurrFunction")||this.$display.data("CurrFunction")==String.fromCharCode(247))&&(s=this.$display.data("valueTwo"),a=s/100,this.push(a),this.$display.data("valueTwo",a));this.$display.data("typing1stChar",!0),this.ripple(t.target)},_funcPress:function(t){this.ripple(t.target);var a=this.pull(),i=s(t.target).text().trim();this.$display.data("isCurrFunction")?(this.$display.data("PrevFunction",this.$display.data("CurrFunction")),this.$display.data("isPrevFunction",!0),this.$display.data("isRunTotal",!0),this.$display.data("typing1stChar",!0),this.$display.data("valueTwoLocked")&&this._eqPress.call(this,t,this.$display.data("CurrFunction"))):(this.$display.data("valueOne",a),this.$display.data("valueOneLocked",!0),this.$display.data("typing1stChar",!0),this.$display.data("isRunTotal",!1)),this.$display.data("isCurrFunction",!0),this.$display.data("CurrFunction",i),s("span.func-btn").removeClass("currFunction"),s(t.target).addClass("pendingFunction")},_eqPress:function(t,a){this.ripple(t.target);var i;if(s(t.target).text().trim(),this.$display.data("valueOneLocked")&&this.$display.data("valueTwoLocked")){var n,e,l;switch(n=a||this.$display.data("CurrFunction"),e=this.$display.data("valueOne"),l=this.$display.data("valueTwo"),n){case"+":i=parseFloat(e)+parseFloat(l);break;case"-":i=parseFloat(e)-parseFloat(l);break;case"x":i=parseFloat(e)*parseFloat(l);break;case String.fromCharCode(247):i=parseFloat(e)/parseFloat(l)}}else i=this.pull();i=this.round(i,8),this.$display.data("isRunTotal")?this.resetDisplay(i,!0):this.resetCalculator(i)},ripple:function(t){s(t).hasClass("ripple")?(s(t).removeClass("ripple"),setTimeout(function(){s(t).addClass("ripple")},0)):s(t).addClass("ripple")}}}()}(window,jQuery);